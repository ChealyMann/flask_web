{% extends "backend/auth/base.html" %}

{% block content %}
    <link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:wght@300;400;500;600;700&display=swap"
          rel="stylesheet">

    <style>
        .font-khmer {
            font-family: 'Kantumruy Pro', sans-serif;
        }

        /* Custom Checkbox Color for the Red Theme */
        .form-checkbox:checked {
            background-color: #dc2626; /* red-600 */
            border-color: #dc2626;
        }
    </style>

    <div class="font-khmer w-full max-w-md bg-white rounded-xl shadow-lg overflow-hidden md:max-w-md m-4 border-t-4 border-red-600">
        <div class="p-8">

            <div class="flex justify-center mb-6">
                <img src="{{ url_for('static', filename='logo/sq_logo.jpg') }}" alt="Angkor Key Logo"
                     class="h-20 w-auto object-contain">
            </div>

            <div class="text-center mb-8">
                <h2 class="text-2xl leading-tight font-bold text-gray-900">
                    ចូលប្រើប្រាស់គណនី
                </h2>
                <p class="text-sm text-gray-500 mt-1">Welcome back to AKK</p>
            </div>

            <form method="POST" action="">

                {{ form.hidden_tag() }}

                <div class="mb-4">
                    {{ form.username.label(text="ឈ្មោះ", class="block text-gray-700 text-sm font-bold mb-2") }}
                    {{ form.username(class="shadow-sm appearance-none border border-gray-300 rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all") }}
                    {% for error in form.username.errors %}
                        <span class="text-red-600 text-xs italic mt-1 block">{{ error }}</span>
                    {% endfor %}
                </div>

                <div class="mb-2">
                    {{ form.password.label(text="ពាក្យសម្ងាត់", class="block text-gray-700 text-sm font-bold mb-2") }}
                    {{ form.password(class="shadow-sm appearance-none border border-gray-300 rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all") }}
                    {% for error in form.password.errors %}
                        <span class="text-red-600 text-xs italic mt-1 block">{{ error }}</span>
                    {% endfor %}
                </div>

                <div class="flex items-center justify-end mb-6">
                    <a href="{{ url_for('request_password_reset') if 'request_password_reset' in url_for.__globals__ else '#' }}"
                       class="text-xs text-red-600 hover:text-red-800 font-semibold">
                        ភ្លេចពាក្យសម្ងាត់?
                    </a>
                </div>

                {% if form.remember %}
                    <div class="flex items-center mb-6">
                        {{ form.remember(class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded") }}
                        {{ form.remember.label(text="ចងចាំខ្ញុំ", class="ml-2 block text-sm text-gray-900") }}
                    </div>
                {% endif %}

                <div class="flex items-center justify-between">
                    <button type="submit"
                            class="w-full bg-black hover:bg-gray-800 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer transition duration-200 shadow-md border-b-4 border-red-600 active:border-b-0 active:mt-1">
                        ចូលប្រើ
                    </button>
                </div>

                <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">
                        មិនទាន់មានគណនី?
                        <a href="{{ url_for('register') }}"
                           class="text-red-600 font-bold hover:text-red-800 hover:underline">
                            ចុះឈ្មោះ
                        </a>
                    </p>
                </div>
            </form>
        </div>
    </div>
{% endblock %}